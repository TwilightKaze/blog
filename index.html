<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"zhisui.github.io","root":"/blog/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="好好学习，天天向上">
<meta property="og:type" content="website">
<meta property="og:title" content="愿卿一路好风景">
<meta property="og:url" content="https://zhisui.github.io/blog/index.html">
<meta property="og:site_name" content="愿卿一路好风景">
<meta property="og:description" content="好好学习，天天向上">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="之随">
<meta property="article:tag" content="前端学习">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://zhisui.github.io/blog/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>愿卿一路好风景</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">愿卿一路好风景</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">此心安处是吾乡</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/blog/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/blog/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/blog/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2022/08/21/20220821%E6%97%A5%E5%B8%B8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/08/21/20220821%E6%97%A5%E5%B8%B8/" class="post-title-link" itemprop="url">20220821日常</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-08-21 22:42:40 / 修改时间：23:32:53" itemprop="dateCreated datePublished" datetime="2022-08-21T22:42:40+08:00">2022-08-21</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>今天晚上和高中同学约好了晚上要去一家牛肉馆吃牛肉火锅，由于路途遥远，4点钟就出发了。</p>
<p>坐的公交路线仿佛让我感觉回到了乡下，路比较窄，四周没啥人，晚上走的话估计我会被吓到，公交车都不敢下了。不过惊喜的是，居然经过了一篇稻田，想想我是多久没看到那样的绿色了，心里的恐惧好像就淡点了。想想自己本来就不喜欢宅的人，明明以前很喜欢出去玩的，现在好像不知不觉变得宅了，可能是身边逐渐没了和自己一起出去玩的人。</p>
<p>我想我不应该忘记高中时期和小伙伴们一起发现的那个小天地，第一次看到那地方，那种激动，那种雀跃，那种不可描述的喜悦，我想都不应该忘记，虽然记忆中比较遥远了，但是那是最开始的初心。那种美好，不应该被这高楼大厦和灯红酒绿所遮掩，被岁月所冲蚀。</p>
<p><img src="http://photocq.photo.store.qq.com/psc?/V13tWppo1vzXo0/hXkBARcFUKDsGY2wtkAmmpZUBMtqApzb0fGvY1ywCWo*U8lHEw4NrswhtnJlHOKcAKV8FbNZsiDmOcn.K1sFGg!!/b&bo=gAJVAwAAAAAFB*A!&rf=viewer_4"></p>
<p>这是一张古老的照片哈哈哈，当然这只是一小部分，我只知道，但是看到那的时候，我想到了课本里面的小石谭记忆，我只知道如果有幸能够再见到这地方能让我很开心，让心里平静下来，可惜这是不可能的事情了。</p>
<p>刚要吃完饭的时候，同学说她听别人说青山有个地方，买酸汤粉很好吃，也要卖凉虾的，吃完饭要不要过去买，我脑壳抽，就说去，哈哈哈，这才符合我之前的风格嘛，跟我表妹学的哈哈。之前就觉得她是一个很洒脱的人，说去哪就去哪，好像从来都不会觉得累，也不觉得没意思，相反兴致勃勃，十分有探险精神，之前还和她大晚上去抓蝗虫。可惜她嫁人了，以后这种日子想必也是少有了。</p>
<p>以前我们总计划长大了要一起去旅游，想想都觉得很美好，现在因为各种各样的原因，想象中的计划也没有实现。我之前一直计划着今年要去深圳和堂姐去看一次海，去看一次海上的日落，到山顶上看一次日出，跟杭州的大学同学约着一起去南京找另一个大学同学，想了好久好久，但是最后还是没有去。我想我堂妹之前说的话是对的，想要做什么就应该想到了就去做，别总想着以后。</p>
<p>最近好像心里变得有点烦躁，我自己也不知道为什么，好像专心不下来去认真做一件事情，我不知道自己在想什么，亦或是再等什么。我有时候会去翻阅一些技术文章，想着收藏起来，以后会去看，想着看一本书，一天看多少，多少天要看完。我想这种东西就不应该去计划，想到了就得去做，别把它放在以后。想得多，可能也是变得浮躁得一个理由吧，当自己专注于做某一件事情时，就不应该去想另外的事情了，当下才是最重要的。</p>
<p>好了，差不多就这样吧，看点书准备睡觉嘿嘿。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2022/08/13/vue%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/08/13/vue%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">vue笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-08-13 16:29:04 / 修改时间：16:31:55" itemprop="dateCreated datePublished" datetime="2022-08-13T16:29:04+08:00">2022-08-13</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div :data-text=&quot;text&quot;&gt;123&lt;/div&gt;</span><br><span class="line">    &lt;div :style=&quot;&#123; backgroundColor: bgColor &#125;&quot;&gt;123&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;123&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">const text = ref(&#x27;hello&#x27;)</span><br><span class="line">const bgColor = ref(&#x27;red&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped lang=&quot;scss&quot;&gt;</span><br><span class="line">/*  这个例子是用来学习如何绑定css变量的，</span><br><span class="line">在css里面是用var(变量名字)</span><br><span class="line">在vue中使用css变量可用attr(变量名)</span><br><span class="line">*/</span><br><span class="line">div &#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">&#125;</span><br><span class="line">div:first-of-type:before &#123;</span><br><span class="line">    content: attr(data-text);</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    color: lightpink;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2022/08/13/%E7%BB%84%E4%BB%B6%E9%97%B4%E4%BC%A0%E5%80%BC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/08/13/%E7%BB%84%E4%BB%B6%E9%97%B4%E4%BC%A0%E5%80%BC/" class="post-title-link" itemprop="url">组件间传值</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-08-13 16:12:32" itemprop="dateCreated datePublished" datetime="2022-08-13T16:12:32+08:00">2022-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-14 23:01:14" itemprop="dateModified" datetime="2022-08-14T23:01:14+08:00">2022-08-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>昨天写到一半，婶婶就打电话过来让我去东站接她，急急忙忙关了电脑今天才发现我之前写的都没保存，啊啊啊啊啊！！！我不想重写了，就这样吧，粗略总结一下。</p>
<p>父子之间传值我就不想写了，比较不熟悉的是父孙之间的传值。</p>
<h2 id="父传孙"><a href="#父传孙" class="headerlink" title="父传孙"></a>父传孙</h2><p>在父组件文件中，有子组件，在这个子组件中传入一个属性，然后在子组件文件中，用一个孙组件，在这个孙组件中用v-bind= “$attr”直接实现透传，最后在孙组件文件中，通过props的形式去获取。</p>
<h2 id="孙传父"><a href="#孙传父" class="headerlink" title="孙传父"></a>孙传父</h2><p>整体思路和子传夫比较像，都是通过触发点击事件传值的。首先，孙组件触发父组件的函数将想要传递过去的值传过去。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">//孙组件文件GrandSon.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;我是孙组件&lt;/h1&gt;</span><br><span class="line">        &lt;button @click=&quot;sendToFather&quot;&gt;点我传值&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">const hello = ref(&#x27;okok&#x27;)</span><br><span class="line">const emit = defineEmits([&#x27;sendToFather&#x27;])</span><br><span class="line">const sendToFather = () =&gt; &#123;</span><br><span class="line">    emit(&#x27;sendToFather&#x27;, hello.value)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped lang=&quot;scss&quot;&gt;</span><br><span class="line">div &#123;</span><br><span class="line">    margin: 10px 0;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>作为中间组件的子组件，用v-bind=”$attrs” 做中间管道，在vue2中孙传父是用v-on=“$listeners”作为中间管道，但是在vue3中废除了这个语法，改成不管是孙传父，还是父传孙，子组件都用v-bind=”$attrs” 做透传。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//子组件 Son.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;我是子组件&lt;/h1&gt;</span><br><span class="line">        &lt;GrandSon v-bind=&quot;$attrs&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import GrandSon from &#x27;./GrandSon.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped lang=&quot;scss&quot;&gt;</span><br><span class="line">div &#123;</span><br><span class="line">    margin: 10px 0;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>父组件用函数属性接受</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;我是父组件&lt;/h1&gt;</span><br><span class="line">        &lt;Son @sendToFather=&quot;sendToFather&quot; /&gt;</span><br><span class="line">        &lt;div&gt;子组件传过来的值&#123;&#123; hello &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import Son from &#x27;./Son.vue&#x27;</span><br><span class="line">const hello = ref(&#x27;&#x27;)</span><br><span class="line">const sendToFather = (val: string) =&gt; &#123;</span><br><span class="line">    hello.value = val</span><br><span class="line">    console.log(val, &#x27;子组件传过来的值&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2022/07/15/taro%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/07/15/taro%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">taro笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-15 23:00:27" itemprop="dateCreated datePublished" datetime="2022-07-15T23:00:27+08:00">2022-07-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-03 22:19:07" itemprop="dateModified" datetime="2022-09-03T22:19:07+08:00">2022-09-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一天有一天的事情，想想自己也是很久没写博客了，越来越懒了，周五就很想躺着追剧，想想还是克制了，得把我这篇写写。</p>
<p>最近这个taro整得我有点难过，已经各执一段时间的东西又被捡起来了，要搞啥适老化，调样式调得有点烦，昨天晚上用自己的电脑安装了下taro，想运行下项目，结果出现了一堆问题，果然人生就是不断地制造问题然后不断地解决问题的，解决了挺有成就感的，解决不了就摆烂，到了某个时间段答案总会浮出水面。</p>
<h4 id="安装Taro"><a href="#安装Taro" class="headerlink" title="安装Taro"></a>安装Taro</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 使用 npm 安装 CLI</span><br><span class="line">$ npm install -g @tarojs/cli</span><br><span class="line"></span><br><span class="line"># OR 使用 yarn 安装 CLI</span><br><span class="line">$ yarn global add @tarojs/cli</span><br><span class="line"></span><br><span class="line"># OR 安装了 cnpm，使用 cnpm 安装 CLI</span><br><span class="line">$ cnpm install -g @tarojs/cli</span><br></pre></td></tr></table></figure>

<p>我在安装的时候提示已经安装成功了，但是用yarn dev:weapp编译运行的时候出现了错误，后来搜索了一些解决方案，反正就是不断地尝试，因为你并不知道答案对不对，有时候它没用，有时候它就莫名奇妙地对了，结果都是摸索出来的。 网上有人说<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=yarn&spm=1001.2101.3001.7020">yarn</a> 的 <strong>全局安装位置</strong> 和 <strong>全局bin位置</strong>不同导致错误，我查看了自己的yarn全局安装位置和全局bin位置，果然不同，具体看这篇<a target="_blank" rel="noopener" href="https://blog.csdn.net/zimeng303/article/details/109741322">npm/yarn修改全局安装路径和缓存路径</a></p>
<p>修改之后将yarn全局bin路径添加到电脑的环境变量。</p>
<p>在执行安装taro指令的时候尽量不要在项目目录里面执行,不然很容易全局安装不了，我也不知道是不是有这个原因，当时我是设置好环境变量，然后再C盘根路径下打开终端执行安装命令，它就安装成功了。</p>
<p>好了，安装好Taro,编译项目，提示Taro已经运行起来了，版本号是。。。，记不清了，然后又开始报错，说找不到啥啥的，昨天晚上没截图，不好意思。。。倒腾了一会，最后想到了可能是taro版本的问题，因为观察到项目里用的taro版本和我安装的不一样，我安装的版本要高些，然后重新安装项目对应版本的，重新编译运行，项目跑起来啦！！</p>
<p>打开微信开发者工具，哦豁，提示app.json文件找不到！！！，救命，为什么的在公司打开这个项目的时候没遇到这么多问题，此时已是晚上11点多，我在想我还有时间改点东西吗，我真的是会，好吧，开始解决。其实之前没接触过taro ,该咋样咋样把。最后的答案，在project.private.config.json里面加入以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;miniprogramRppt&quot;:&quot;./路径&quot; 双引号的内容是你项目文件app.json所在的路径，路径里面不要加入app.json，指明到它的上一级路径即可</span><br></pre></td></tr></table></figure>

<p>ok ,终于出来了，然后今天改完了样式，准备全局注入，结果无法像pc端那样全局加入类，我真的是。。。。郁闷了一个下午，网上的回答也是少得可怜，基本没啥答案，幸运的是今天h5正常在浏览器打开了，最重要得事情就是想想怎么像在浏览器那样获取DOM添加类名，这个周末注定是要和taro过了，我的css视频还没刷完呢。。。。不过研究下taro也不错，希望不会让人觉得太烦躁。</p>
<p>最后，附上无意中听到的一首周杰伦的《手写的从前》里的一段rap歌词，真的爱了，希望能唤醒我已多年未陶冶的情操。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">微风需要竹林 溪流需要蜻蜓</span><br><span class="line">乡愁般的离开 需要片片浮萍</span><br><span class="line">记得那年的雨季 回忆里特安静</span><br><span class="line">哭过后的决定 是否还能进行</span><br><span class="line">我傻傻等待 傻傻等春暖花开</span><br><span class="line">等终等于等明等白 等爱情回来</span><br><span class="line">青春属于表白 阳光属于窗台</span><br><span class="line">而我想我属于一个拥有你的未来</span><br><span class="line">纸上的彩虹 用素描画的钟</span><br><span class="line">我还在修改 回忆之中你的笑容</span><br><span class="line">该怎么去形容 为思念酝酿的痛</span><br><span class="line">夜空霓虹 都是我不要的繁荣</span><br><span class="line">或许去趟沙滩 或许去看夕阳</span><br><span class="line">或许任何一个可以想心事的地方</span><br><span class="line">情绪在咖啡馆 被调成一篇文章</span><br><span class="line">彻底爱上你如诗一般透明的泪光</span><br></pre></td></tr></table></figure>

<h3 id="Taro的页面通信机制"><a href="#Taro的页面通信机制" class="headerlink" title="Taro的页面通信机制"></a>Taro的页面通信机制</h3><h4 id="h5和小程序的页面通信区别"><a href="#h5和小程序的页面通信区别" class="headerlink" title="h5和小程序的页面通信区别"></a>h5和小程序的页面通信区别</h4><p>Taro在写h5和小程序时还是存在一定的差异的，最近踩了好多坑</p>
<p>首先Taro提拱了判断小程序和h5环境的api</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Taro.getEnv() 返回值可有以下几种</span><br><span class="line"></span><br><span class="line">    &quot;WEAPP&quot;</span><br><span class="line">    &quot;WEB&quot;</span><br><span class="line">    &quot;RN&quot;</span><br><span class="line">    &quot;SWAN&quot;</span><br><span class="line">    &quot;ALIPAY&quot;</span><br><span class="line">    &quot;TT&quot;</span><br><span class="line">    &quot;JD&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="小程序页面通信"><a href="#小程序页面通信" class="headerlink" title="小程序页面通信"></a>小程序页面通信</h4><p>小程序如果从当前页面跳入下一个页面，进行一系列操作后返回当前页面并刷新当前页面，可以不采用页面通信的方法，因为小程序每次回到页面的时候都会重新刷新页面数据的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//发起事件的页面</span><br><span class="line">const pages = Taro.getCurrentPages();</span><br><span class="line">const current = pages[pages.length - 1];</span><br><span class="line">const eventChannel = current.getOpenerEventChannel();</span><br><span class="line">eventChannel.emit(&quot;modifyEvent&quot;);</span><br><span class="line"></span><br><span class="line">//监听事件的页面在跳转到发起事件页面之后将事件注册一下</span><br><span class="line">Taro.navigateTo(&#123;</span><br><span class="line">           url: &#x27;发起事件的页面&#x27;,</span><br><span class="line">           events: &#123;</span><br><span class="line">               modifyEvent: () =&gt; &#123;</span><br><span class="line">                   //执行一些操作</span><br><span class="line">               &#125;,</span><br><span class="line">           &#125;,</span><br><span class="line">       &#125;);</span><br><span class="line"> Taro.navigateBack();</span><br></pre></td></tr></table></figure>

<h3 id="h5页面通信"><a href="#h5页面通信" class="headerlink" title="h5页面通信"></a>h5页面通信</h3><p>h5跳转到下一个页面进行一系列的操作后跳回之前的页面并刷新跳回来的页面，它是不会自动刷新的，所以只能用这种页面通信的方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">发起事件的页面</span><br><span class="line"> Taro.eventCenter.trigger(&#x27;modifyEvent&#x27;) //modifyEvent为事件名称</span><br><span class="line"> 监听事件的页面接听之后执行相关的操作</span><br><span class="line"> Taro.eventCenter.on(&#x27;modifyEvent&#x27;, (arg) =&gt; &#123; 一些操作 &#125;)</span><br><span class="line"> Taro.navigateBack();</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2022/06/21/Reduce/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/06/21/Reduce/" class="post-title-link" itemprop="url">无聊写下Reduce</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-21 21:40:58" itemprop="dateCreated datePublished" datetime="2022-06-21T21:40:58+08:00">2022-06-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-22 23:39:01" itemprop="dateModified" datetime="2022-06-22T23:39:01+08:00">2022-06-22</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在写这篇文章之前记录下自己的刚发现的图床工具<a target="_blank" rel="noopener" href="https://picgo.github.io/PicGo-Doc/zh/guide/">PicGO</a>，在附上<a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/PicGo">github地址</a>用vue和electron开发的桌面应用，之前我一直很苦恼写markdown的时候上传图片很麻烦，现在有了这个工具，一切都变得很easy。</p>
<p>不过这个工具直接下载安装安装不了，我是用scoop安装的，今天还看到了一个界面十分优美得类似markdown的工具，但是奈何电脑直接安装是装不了的，也没有scoop的安装方式，真的好可惜，哪天再去试试。</p>
<p>目前工作中用到reduce的情况也还好，先备着</p>
<h4 id="结合concat实现数组扁平化"><a href="#结合concat实现数组扁平化" class="headerlink" title="结合concat实现数组扁平化"></a>结合concat实现数组扁平化</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const arr = [</span><br><span class="line">  [1,2],</span><br><span class="line">  [3,4],</span><br><span class="line">  [5,6]</span><br><span class="line">].reduce((acc, cur) =&gt; &#123;</span><br><span class="line">  return acc.concat(cur)</span><br><span class="line">&#125;, [])</span><br><span class="line">console.log(arr)</span><br></pre></td></tr></table></figure>

<h4 id="多维数组扁平化"><a href="#多维数组扁平化" class="headerlink" title="多维数组扁平化"></a>多维数组扁平化</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const arr = [</span><br><span class="line">  [1, 2,[2, 3, 4, 5]],</span><br><span class="line">  [3, 4, [2, 3,[2, 3, 1]]],</span><br><span class="line">  [5, 6]</span><br><span class="line">]</span><br><span class="line">const flatten = (arr) =&gt; &#123;</span><br><span class="line"> return  arr.reduce((pre, cur) =&gt;</span><br><span class="line">    pre.concat(Array.isArray(cur)? flatten(cur) : cur),[])</span><br><span class="line">&#125;</span><br><span class="line">console.log(flatten(arr))</span><br></pre></td></tr></table></figure>

<h4 id="数组分块"><a href="#数组分块" class="headerlink" title="数组分块"></a>数组分块</h4><p>根据传入限制大小，对数组进行分块，小于限制长度就往里面添加，否则直接将其加入res</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const chunk = (arr, size) =&gt; &#123;</span><br><span class="line"> return arr.reduce(</span><br><span class="line">  (res, cur) =&gt; (</span><br><span class="line">   res[res.length - 1].length &lt; size</span><br><span class="line">    ? res[res.length - 1].push(cur)</span><br><span class="line">    : res.push([cur]),</span><br><span class="line">   res</span><br><span class="line">  ),</span><br><span class="line">  [[]]</span><br><span class="line"> );</span><br><span class="line">&#125;;</span><br><span class="line">const arr4 = [1, 2, 3, 4, 5, 6];</span><br><span class="line">console.log(chunk(arr4, 3)); // [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]</span><br></pre></td></tr></table></figure>

<h4 id="字符串统计"><a href="#字符串统计" class="headerlink" title="字符串统计"></a>字符串统计</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const countChar = text =&gt; &#123;</span><br><span class="line"> text = text.split(&quot;&quot;);</span><br><span class="line"> return text.reduce((record, c) =&gt; &#123;</span><br><span class="line">  record[c] = (record[c] || 0) + 1;</span><br><span class="line">  return record;</span><br><span class="line"> &#125;, &#123;&#125;);</span><br><span class="line">&#125;;</span><br><span class="line">const text = &quot;划水水摸鱼鱼&quot;;</span><br><span class="line">console.log(countChar(text)); // &#123; &#x27;划&#x27;: 1, &#x27;水&#x27;: 2, &#x27;摸&#x27;: 1, &#x27;鱼&#x27;: 2 &#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2022/06/01/vscode%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/06/01/vscode%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6/" class="post-title-link" itemprop="url">vscode问题集锦</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-01 00:30:08 / 修改时间：00:45:45" itemprop="dateCreated datePublished" datetime="2022-06-01T00:30:08+08:00">2022-06-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="vscode常用命令"><a href="#vscode常用命令" class="headerlink" title="vscode常用命令"></a>vscode常用命令</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code .用vscode打开当前文件</span><br><span class="line">code -v 查看当前vscode的版本</span><br><span class="line">未完待续~</span><br></pre></td></tr></table></figure>

<h4 id="volar在vue中不生效的问题"><a href="#volar在vue中不生效的问题" class="headerlink" title="volar在vue中不生效的问题"></a>volar在vue中不生效的问题</h4><p>最近几天发现我的vscode在编写vue文件的时候没有代码提示了，我以为是我的vscode配置有问腿，一直在vscode配置里面找问题，想想应该是volar插件是不是有问题，但是我卸载了根本没啥反应，思索着我也没改什么地方，怎么可能突然就没提示了呢。</p>
<p>后面在volar插件里面无聊般光了一下，无意中发现了一个东西，volar插件有一个Runtime Status选项，在那可以看到这个插件是否是正常运行的，点开看后提示当前版本的vscode和volar的版本并不匹配，安装了最新版本的vscode,问题解决</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2022/05/08/%E4%B8%80%E5%91%A8bug%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/05/08/%E4%B8%80%E5%91%A8bug%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">一周bug总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-05-08 16:40:25 / 修改时间：16:41:08" itemprop="dateCreated datePublished" datetime="2022-05-08T16:40:25+08:00">2022-05-08</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>好像没到一周呵呵，就上了三天班。。。不过这三天做得最多的事情就是新增需求，该需求，改bug。</p>
<p>什么时候markdowm能支持导入本地图片正常显示，真的每次写总结的时候想放图片不想还要自己找一个图床放上去，再从图床上面粘贴链接过来，真的很麻烦呀。</p>
<p>不想放图片，图片搞下来我都不想在写总结了，自己看懂就好啦。。。</p>
<p>1、第一个bug: （附上产品经理的描述，毕竟人家比我专业点）1.   一屏管重点——在区域图和点位图来回切换会导致风场叠加，取消风场的情况下，页面还显示风场，页面卡顿（bug）</p>
<p>这个地方我差不多看代码看了2个多三个多小时，其中一部分时间在沉迷在页面卡顿中无法自拔，一直在那调呀测呀，页面有时候还更新的不及时，我其实对公司的地图技术栈并不是很熟，但是不该能知道它写这个是什么意思，但是要一个文件一个文件地跳，很难得自己有这个耐心。最后理通了代码逻辑，注释掉了一行代码，解决了。</p>
<p>2、echart需求实现：现在暂时是不能对echart的配置了然于心，个性化的配置真的伤脑筋，费时间，很想把那天搜索的链接地址放进来，不过是在公司电脑上搜的，现在没啥心情重新去搜，上班了把它放进我的收藏夹里。</p>
<p>3、图片预览切换需求：图片点开后增加左右切换按钮，点击可在图片之间切换</p>
<p>这个地方可以附下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;div class=&quot;pre btn&quot; @click=&quot;showPre&quot;&gt;</span><br><span class="line">           &lt;span&gt;&amp;lt;&lt;/span&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;content&quot;&gt;</span><br><span class="line">            &lt;el-carousel ref=&quot;carousel&quot;  arrow=&quot;never&quot; :autoplay=&quot;false&quot; height=&quot;90px&quot; 				indicator-position=&quot;none&quot;&gt;</span><br><span class="line">               &lt;el-carousel-item v-for=&quot;(item, index) in list&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">                   &lt;el-image</span><br><span class="line">                       style=&quot;width:100%; height: auto&quot;</span><br><span class="line">                       :src=&quot;item&quot;</span><br><span class="line">                       :preview-src-list=&quot;[item]&quot;</span><br><span class="line">                       :key=&quot;index&quot;&gt;</span><br><span class="line">                   &lt;/el-image&gt;</span><br><span class="line"></span><br><span class="line">               &lt;/el-carousel-item&gt;</span><br><span class="line">           &lt;/el-carousel&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> &lt;div class=&quot;next btn&quot; @click=&quot;showNext&quot;&gt;</span><br><span class="line">           &lt;span&gt;&amp;gt;&lt;/span&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p>原来的代码时长这个样子的，在走马灯里面放一个图片预览的组件，我去element ui看过Image组件的例子，发现原来的代码传参有点问题，导致图片切换按钮不能正常显示，后来我把:preview-src-list=”[item]”换成了:preview-src-list=”list”, :src=”item”换成了:src=”list[0]”,发现只能显示第一张图片，有去看了Carousel组件的例子，自己思考了一下，之前这个代码想要实现的功能是在图片未被点开之前，利用走马灯的切换效果，通过前后两个按钮切换走马灯里内容的变化，点开图片后不能显示切换按钮是因为传入的参数只有一张图片的链接，虽然我改变了参数，但是再用外面的按钮切换的时候，由于我传入的是第一张照片的链接，所以怎么切都显示第一张，后面把index动态传入 :src=”list[index]”，问题解决，感觉之前能想到走马灯和图片预览的同学也是可以哦，发现了新大陆</p>
<p>这几天改改改，写写写，我好像明白了一些事情，有些东西，有些事情，有的时候突然就有了答案，当时自己想不明白的，未知的，有一天你突然就知道了，明白了，或许有些莫名奇妙吧。人的一生不就是一直在找寻答案吗，迷茫，不解时不时充斥着生活，答案可能不是是与否，也不是为了求知，而是突然某一天或许是一件事，亦或是一个人，自己突然就明白了，所以不要为了位置的东西情绪低落，一切都会有答案的。</p>
<p>渐渐将我的blog变成了日记。。。罪过罪过</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2022/04/11/%E5%8A%A8%E7%94%BB%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E6%97%8B%E8%BD%AC%E7%B2%92%E5%AD%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/04/11/%E5%8A%A8%E7%94%BB%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E6%97%8B%E8%BD%AC%E7%B2%92%E5%AD%90/" class="post-title-link" itemprop="url">动画篇（一）：旋转粒子</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-04-11 23:17:08 / 修改时间：23:42:34" itemprop="dateCreated datePublished" datetime="2022-04-11T23:17:08+08:00">2022-04-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="写在前面的话"><a href="#写在前面的话" class="headerlink" title="写在前面的话"></a>写在前面的话</h3><p>虽然哈，很多人绝得html和css很简单，但是作为一个合格的前端开发工程师，还是要对美有一定的追求，个人觉得我的css并扎实，然我随手实现一个炫酷动画，不好意思，我不会。。。所以从今天开始，我要开始积累实现动画的思路啦，更重要的是，学习写代码的思路，怎么把代码写得既简单又好维护，这也是我目前比较想达到的。</p>
<p>我比较想纯CSS实现动画，不想去操作dom</p>
<p>后面会陆续更新一些自己在学习动画的例子和心得，希望自己可以不断地坚持。</p>
<iframe height="300" style="width: 100%;" scrolling="no" title="Untitled" src="https://codepen.io/long-ying/embed/eYyjdBo?default-tab=html%2Cresult&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a target="_blank" rel="noopener" href="https://codepen.io/long-ying/pen/eYyjdBo">
  Untitled</a> by loyal (<a target="_blank" rel="noopener" href="https://codepen.io/long-ying">@long-ying</a>)
  on <a target="_blank" rel="noopener" href="https://codepen.io">CodePen</a>.
</iframe>

<p>这个例子中style=”–clr: #04fc43”是我之前没看到的一种写法，不过用起来真香，可以省去很多多余的代码，例子简单或者复杂并不重要，重要的是构建思维，这也是我比较喜欢在youtube上国up主写代码的原因，你总是能get到各种各样新颖的写法。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2022/04/05/%E5%89%8D%E7%AB%AF%E6%BC%AB%E6%BC%AB%E8%B7%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2022/04/05/%E5%89%8D%E7%AB%AF%E6%BC%AB%E6%BC%AB%E8%B7%AF/" class="post-title-link" itemprop="url">前端漫漫路</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-04-05 23:54:05" itemprop="dateCreated datePublished" datetime="2022-04-05T23:54:05+08:00">2022-04-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-06 00:19:35" itemprop="dateModified" datetime="2022-04-06T00:19:35+08:00">2022-04-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>嗯嗯。。。。好久都没有更新博客了，之前一直在忙找工作的事情，最近新入职了新公司比较忙，博客就搁置了。</p>
<p>清明放假和小伙伴出去玩了，花了一天在赶需求和改代码，今天晚上终于有点时间来写了嘿嘿。</p>
<p>最近也算是把工作落实了下来了吧，回顾自己一年以来的前端自学历程，中途真的有过很多次想过放弃，遇到问题的时候就会让自己的自信心大受打击，过程是艰辛但同时也伴随着喜悦。</p>
<p>工作只是前端学习路程的小开端，我也明白自己目前还有很多地方需要提升，所以后面的路该怎么走才是最最最最重要的。</p>
<p>首先我并不提倡熬夜，自学前端的那一年真的是每天差不多熬到一点多两点，然后早上6点50左右就要起床，每天晚上都有在跑步。所以嘞，锻炼这件事情不能落下，从辞职到找工作这段时间宅着的时间太长了，体重又增加了，有的裤子都穿不上了，太伤心了，今年的目标是体重绝对不能超过95斤，这真的是底线了救命。</p>
<p>关于下班之后的时间和上下班坐公交的时间我也得好好规划下，今年的目标除了体重之外，怎么能够让自己在这一年之内快速成长起来也很值得自己去思考，我并不希望自己在前端这条路上只为满足工作需求，更多的是能够去到更多的领域，去看到更大的世界，开拓更多的领域，这是前端吸引我的一个地方，当然我更希望自己会成为一个优秀的创造者。</p>
<p>嗯嗯嗯。。。写到这差不多了，我得去规划下我之后工作时间之外的生活，心动不如行动嘛嘿嘿</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhisui.github.io/blog/2021/12/24/react%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="之随">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="愿卿一路好风景">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2021/12/24/react%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">react状态管理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-12-24 17:03:19 / 修改时间：17:26:07" itemprop="dateCreated datePublished" datetime="2021-12-24T17:03:19+08:00">2021-12-24</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="使用createContext创建全局状态"><a href="#使用createContext创建全局状态" class="headerlink" title="使用createContext创建全局状态"></a>使用createContext创建全局状态</h3><h4 id="1、创建"><a href="#1、创建" class="headerlink" title="1、创建"></a>1、创建</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UserContext.js文件</span><br><span class="line"></span><br><span class="line">import &#123;createContext&#125; from &quot;react&quot;</span><br><span class="line">const  UserContext = createContext(null)</span><br><span class="line">export default UserContext</span><br></pre></td></tr></table></figure>

<h4 id="2-使用UseContex-Prviderc在父组件中传入到子组件"><a href="#2-使用UseContex-Prviderc在父组件中传入到子组件" class="headerlink" title="2  使用UseContex.Prviderc在父组件中传入到子组件"></a>2  使用UseContex.Prviderc在父组件中传入到子组件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">APP.jsx文件</span><br><span class="line"></span><br><span class="line">import UserContext from &#x27;./UserContext&#x27;</span><br><span class="line">function App() &#123;</span><br><span class="line">  let [user, setUser] = useState(&#123;</span><br><span class="line">    isLoggin: false,</span><br><span class="line">    currentUserId: null,</span><br><span class="line">    CurrentUserName: null,</span><br><span class="line">    CurrentUserRole: null</span><br><span class="line">  &#125;)</span><br><span class="line">  return (</span><br><span class="line">    &lt;UserContext.Provider value=&#123;&#123;user, setUser&#125;&#125;&gt;</span><br><span class="line">    &lt;HashRouter&gt;</span><br><span class="line">      &lt;NavBar/&gt;</span><br><span class="line">      &lt;div className=&quot;container-fluid&quot;&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">          &lt;Route path=&quot;/&quot; exact=&#123;true&#125; component=&#123;Login&#125;/&gt;</span><br><span class="line">          &lt;Route path=&quot;/*&quot; exact=&#123;true&#125; component=&#123;NoMatchPage&#125;/&gt;</span><br><span class="line">        &lt;/Switch&gt;</span><br><span class="line"></span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/HashRouter&gt;</span><br><span class="line">    &lt;/UserContext.Provider&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3、在子组件中用useContext接收"><a href="#3、在子组件中用useContext接收" class="headerlink" title="3、在子组件中用useContext接收"></a>3、在子组件中用useContext接收</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useState, useEffect, useContext &#125; from &#x27;react&#x27;</span><br><span class="line">import UserContext from &#x27;./UserContext&#x27;</span><br><span class="line"></span><br><span class="line">const Login = (props) =&gt; &#123;</span><br><span class="line">  const [email, setEmail] = useState(&#x27;123@qq.com&#x27;)</span><br><span class="line">  const [password, setPassword] = useState(&#x27;123a3442&#x27;)</span><br><span class="line">  let userContext = useContext(UserContext) ///////在这里传入</span><br><span class="line"></span><br><span class="line">  useEffect(() =&gt; &#123;</span><br><span class="line">    document.title = &#x27;登录&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  let [dirty, setDirty] = useState(&#123;</span><br><span class="line">    email: false,</span><br><span class="line">    password: false,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  const [errors, setErrors] = useState(&#123;</span><br><span class="line">    email: [],</span><br><span class="line">    password: [],</span><br><span class="line">  &#125;)</span><br><span class="line">  const [message, setMessage] = useState(&#x27;&#x27;)</span><br><span class="line"></span><br><span class="line">  const validate = () =&gt; &#123;</span><br><span class="line">    const errorsData = &#123;&#125;</span><br><span class="line">    errorsData.email = []</span><br><span class="line">    if (!email) &#123;</span><br><span class="line">      errorsData.email.push(&#x27;邮箱不能为空&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    let emailReg = /[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/</span><br><span class="line">    if (email) &#123;</span><br><span class="line">      if (!emailReg.test(email)) &#123;</span><br><span class="line">        errorsData.email.push(&#x27;邮箱输入格式有误&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    errorsData.password = []</span><br><span class="line">    if (!password) &#123;</span><br><span class="line">      errorsData.password.push(&#x27;密码不能为空&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    let passwordReg = /^(?=.*?[a-z])(?=.*?[0-9]).&#123;8,16&#125;$/</span><br><span class="line">    if (password) &#123;</span><br><span class="line">      if (!passwordReg.test(password)) &#123;</span><br><span class="line">        errorsData.password.push(&#x27;密码输入格式有误&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    setErrors(errorsData)</span><br><span class="line">  &#125;</span><br><span class="line">  useEffect(validate, [password, email, setErrors])</span><br><span class="line"></span><br><span class="line">  let onClickLogin = async () =&gt; &#123;</span><br><span class="line">    let dirtyData = dirty</span><br><span class="line">    Object.keys(dirtyData).forEach((control) =&gt; &#123;</span><br><span class="line">      dirtyData[control] = true</span><br><span class="line">    &#125;)</span><br><span class="line">    setDirty(dirtyData)</span><br><span class="line">    validate()</span><br><span class="line">    if (isValid()) &#123;</span><br><span class="line">      let response = await fetch(</span><br><span class="line">        `http://localhost:5000/users?email=$&#123;email&#125;&amp;password=$&#123;password&#125;`,</span><br><span class="line">        &#123; method: &#x27;GET&#x27; &#125;</span><br><span class="line">      )</span><br><span class="line">      if (response.ok) &#123;</span><br><span class="line">        let body = await response.json()</span><br><span class="line">        if (body.length &gt; 0) &#123;</span><br><span class="line">          setMessage(&lt;span className=&quot;text-success&quot;&gt;登录成功&lt;/span&gt;)</span><br><span class="line">          userContext.setUser(&#123;</span><br><span class="line">            ...userContext.user,</span><br><span class="line">            isLoggin: true,</span><br><span class="line">            currentUserName: body[0].fullName,</span><br><span class="line">            currentUserId: body[0].id,</span><br><span class="line">            currentUserRole: body[0].role,</span><br><span class="line">          &#125;)</span><br><span class="line">          if (body[0].role === &#x27;user&#x27;) &#123;</span><br><span class="line">            props.history.replace(&#x27;/dashboard&#x27;)</span><br><span class="line">          &#125; else if(body[0].role===&quot;admin&quot;) &#123;</span><br><span class="line">            props.history.replace(&#x27;./products&#x27;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          setMessage(&lt;span className=&quot;text-danger&quot;&gt;无效登录，请重新尝试&lt;/span&gt;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  let isValid = () =&gt; &#123;</span><br><span class="line">    let valid = true</span><br><span class="line">    for (let control in errors) &#123;</span><br><span class="line">      if (errors[control].length &gt; 0) &#123;</span><br><span class="line">        valid = false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return valid</span><br><span class="line">  &#125;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div className=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div className=&quot;col-lg-5 col-md-7 mx-auto&quot;&gt;</span><br><span class="line">        &lt;div className=&quot;card boder-success shadow-lg my-2&quot;&gt;</span><br><span class="line">          &lt;div className=&quot;card-header border-bottom border-success&quot;&gt;</span><br><span class="line">            &lt;h4 style=&#123;&#123; fontSize: &#x27;40px&#x27; &#125;&#125; className=&quot;text-success&quot;&gt;</span><br><span class="line">              Login</span><br><span class="line">            &lt;/h4&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">          &lt;div className=&quot;card-body boder-bottom boder-success&quot;&gt;</span><br><span class="line">            &lt;div className=&quot;form-group&quot;&gt;</span><br><span class="line">              &lt;label htmlFor=&quot;email&quot;&gt;Email&lt;/label&gt;</span><br><span class="line">              &lt;input</span><br><span class="line">                value=&#123;email&#125;</span><br><span class="line">                type=&quot;text&quot;</span><br><span class="line">                className=&quot;form-control&quot;</span><br><span class="line">                id=&quot;email&quot;</span><br><span class="line">                placeholder=&quot;Email&quot;</span><br><span class="line">                onChange=&#123;(e) =&gt; &#123;</span><br><span class="line">                  setEmail(e.target.value)</span><br><span class="line">                &#125;&#125;</span><br><span class="line">                onBlur=&#123;() =&gt; &#123;</span><br><span class="line">                  setDirty(&#123; ...dirty, email: true &#125;)</span><br><span class="line">                  validate()</span><br><span class="line">                &#125;&#125;</span><br><span class="line">              /&gt;</span><br><span class="line">              &lt;div className=&quot;text-danger&quot;&gt;</span><br><span class="line">                &#123;dirty.email &amp;&amp; errors.email.length &gt; 0 ? errors.email : &#x27;&#x27;&#125;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;div className=&quot;form-group&quot;&gt;</span><br><span class="line">              &lt;label htmlFor=&quot;password&quot;&gt;Password&lt;/label&gt;</span><br><span class="line">              &lt;input</span><br><span class="line">                type=&quot;password&quot;</span><br><span class="line">                className=&quot;form-control&quot;</span><br><span class="line">                id=&quot;password&quot;</span><br><span class="line">                placeholder=&quot;Password&quot;</span><br><span class="line">                value=&#123;password&#125;</span><br><span class="line">                onChange=&#123;(e) =&gt; &#123;</span><br><span class="line">                  setPassword(e.target.value)</span><br><span class="line">                &#125;&#125;</span><br><span class="line">                onBlur=&#123;() =&gt; &#123;</span><br><span class="line">                  setDirty(&#123; ...dirty, password: true &#125;)</span><br><span class="line">                  validate()</span><br><span class="line">                &#125;&#125;</span><br><span class="line">              /&gt;</span><br><span class="line">              &lt;div className=&quot;text-danger&quot;&gt;</span><br><span class="line">                &#123;dirty.password &amp;&amp; errors.password.length &gt; 0</span><br><span class="line">                  ? errors.password</span><br><span class="line">                  : &#x27;&#x27;&#125;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div className=&quot;card-footer text-right&quot;&gt;</span><br><span class="line">              &lt;div className=&quot;&quot;&gt;&#123;message&#125;&lt;/div&gt;</span><br><span class="line">              &lt;div&gt;</span><br><span class="line">                &lt;button</span><br><span class="line">                  className=&quot;btn btn-primary mycolor&quot;</span><br><span class="line">                  onClick=&#123;onClickLogin&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                  登录</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Login</span><br></pre></td></tr></table></figure>

<h3 id="使用useReducer"><a href="#使用useReducer" class="headerlink" title="使用useReducer"></a>使用useReducer</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/6/">6</a><a class="extend next" rel="next" href="/blog/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="之随"
      src="/blog/images/%E5%8F%A4%E9%A3%8E%E5%A4%B4%E5%83%8F.jpg">
  <p class="site-author-name" itemprop="name">之随</p>
  <div class="site-description" itemprop="description">好好学习，天天向上</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">58</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/long-ying" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;long-ying" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">之随</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  















  

  

<script src="/blog/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"/blog/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body>
</html>
